<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bombombini Gusini</title>
    <meta property="og:title" content="Bombombini Gusini">
    <meta property="og:description" content="Bomb the crocs! Play Bombombini Gusini now.">
    <meta property="og:image" content="sm.png">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Bombombini Gusini">
    <meta name="twitter:description" content="Bomb the crocs! Play Bombombini Gusini now.">
    <meta name="twitter:image" content="sm.png">

    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Press Start 2P', cursive;
        }
        canvas {
            display: block;
            margin: 0 auto;
        }
        #wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }
        #dropButton {
            width: 100%;
            max-width: 100vw;
            font-size: 64px;
            padding: 30px;
            box-sizing: border-box;
            word-break: break-word;
        }

        .modal-backdrop {
            background-color: transparent !important;
        }

        #dropButton:hover {
            transform: scale(1.05);
        }
        #dropButton:active {
            transform: scale(0.98);
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
<div id="wrapper">
    <div id="gameContainer"></div>
</div>
<button id="dropButton" class="btn btn-danger w-100 text-center shadow" style="display: none; font-size: 64px; padding: 30px; cursor: pointer; white-space: normal;">ðŸ’£ DROP BOMB</button>

<!-- Donate Modal -->
<div class="modal fade" id="donateModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content text-center">
            <div class="modal-header">
                <h5 class="modal-title w-100">Support Bombombini Gusini ðŸ’£ðŸª¿</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Enjoying the chaos? Help me build more meme-fueled games!
                <br><br>
                <img src="hamster.gif" alt="hamster" class="img-fluid mb-3" style="max-height: 200px;">
                <a href="https://buymeacoffee.com/aratar" target="_blank" class="btn btn-warning btn-lg mb-3">â˜• Buy me a coffee</a>
                <div class="form-check text-center">
                    <input class="form-check-input" type="checkbox" value="" id="noShowAgain">
                    <label class="form-check-label" for="noShowAgain">
                        Don't show again
                    </label>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap Bundle JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    let gamesPlayed = 0;
    let donateModalDismissed = false;

    function maybeShowDonateModal() {
        const skip = localStorage.getItem('skipDonateModal');
        if (!skip && gamesPlayed > 0 && gamesPlayed % 2 === 0) {
            const modal = new bootstrap.Modal(document.getElementById('donateModal'));
            modal.show();

            const checkbox = document.getElementById('noShowAgain');
            checkbox.checked = false;
            checkbox.onchange = () => {
                if (checkbox.checked) {
                    localStorage.setItem('skipDonateModal', '1');
                }
            };
        }
    }

    function endGameModal(misses) {
       if (misses === 3) {
           gamesPlayed++;
           maybeShowDonateModal();
        }
    }
</script>

<script src="game.js"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JYZFRRWKNS"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-JYZFRRWKNS');
</script>
</body>
</html>
